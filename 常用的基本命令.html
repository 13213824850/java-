<html>
<head>
  <title>#常用的基本命令</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600554 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="384"/>
<h1>#常用的基本命令</h1>

<div>
<span><div><span style="font-weight: bold;"><font style="font-size: 18pt;">#常用的基本命令</font></span></div><div><font style="font-size: 14pt;">1、cd </font></div><div><font style="font-size: 14pt;">用于切换当前目录，它的参数是要切换到的目录的路径，</font></div><div><font style="font-size: 14pt;">可以是绝对路径，也可以是相对路径。</font></div><div><font style="font-size: 14pt;">cd /opt  ：绝对路径cd opt ：相对路径</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">2、ls </font></div><div><font style="font-size: 14pt;">查看文件与目录的命令</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">ls -l (也可以直接 ll ) ：列出长数据串，包含文件的属性与权限数据等</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">ls -a ：列出全部的文件，连同隐藏文件（开头为.的文件）一起列出来（常用）</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">3、grep </font></div><div><font style="font-size: 14pt;">文本搜索</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">语法：grep 参数 查找条件 文件名（注：是文件名，目录名下查找不行）</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">主要参数：</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">－i：不区分大小写(只适用于字母字符。）</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">－l：查询多文件时只输出包含匹配字符的 文件名。</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">－n：显示匹配行内容及行号。</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">比如我的/opt目录下有文件test1.txtgrep -i &quot;teacher&quot; test1.txt : 查询包含teachergrep -l &quot;teacher&quot; test1.txt test2.txt : 在文件test1/test2中查找是否有“teacher”grep teacher *.txt : 显示当前目录下包含“teacher”且以.txt 结尾的文件（grep命令支持正则表达式，如grep '[a-z]\{7\}' *.txt）</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">ps -ef|grep java:查找指定进程(这里指定java进程)</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">ls -l|grep -i test：把ls -l的输出中包含字母test（不区分大小写）的内容输出 （如果查询的是目录可以使用正则表达式，但是文件不行）</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">4、find </font></div><div><font style="font-size: 14pt;">查找</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">-mtime +n : 列出在n天之前（不含n天本身）被更改过的文件名；  -mtime -n : 列出在n天之内（含n天本身）被更改过的文件名；</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">find /root（路径） -mtime 0 ： 在当前目录下查找今天之内有改动的文件  </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">find -name 文件名 ：找匹配的文件名</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">在某一文件中查找日志（比方方法login）:可以vi打开日志文件，然后“/login”，enter，按 n 键向下继续搜索；</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">5、mkdir </font></div><div><font style="font-size: 14pt;">创建指定的名称的目录</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">-m, --mode=模式，设定权限&lt;模式&gt; (类似 chmod)，而不是 rwxrwxrwx 减 umask</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">-p, --parents  可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后,系统将自动建立好那些尚不存在的目录,即一次可以建立多个目录; mkdir test1 ： 创建一个空目录mkdir -p test2/test22 ：递归创建多个目录 mkdir -m 777 test3 ：创建权限为777的目录</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">6、cp </font></div><div><font style="font-size: 14pt;">复制文件，还可以把多个文件一次性地复制到一个目录下</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">cp -a file1 file2 ：连同文件的所有特性把文件file1复制成文件file2  </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">cp file1 file2 file3 dir ：把文件file1、file2、file3复制到目录dir中  </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">7、mv </font></div><div><font style="font-size: 14pt;">移动文件、目录或更名</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">mv file1 file2 file3 dir : 把文件file1、file2、file3移动到目录dir中  </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">mv file1 file2 : 把文件file1重命名为file2  </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">8、rm </font></div><div><font style="font-size: 14pt;">删除文件或目录</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">-f ：就是force的意思，忽略不存在的文件，不会出现警告消息  -i ：互动模式，在删除前会询问用户是否操作  -r ：递归删除，最常用于目录删除，它是一个非常危险的参数  rm -i file : 删除文件file，在删除之前会询问是否进行该操作  </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">rm -fr dir : 强制删除目录dir中的所有文件  </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">9、ps </font></div><div><font style="font-size: 14pt;">列出系统中当前运行的进程</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">a 显示所有用户的所有进程（包括其它用户）</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">-e 显示所有进程,环境变量f 用树形格式来显示进程；</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">ps -ef|grep java ： 找出所有java进程</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">10、kill </font></div><div><font style="font-size: 14pt;">终止指定的进程。需要先使用ps/pidof/pstree/top等工具获取进程PID，然后使用kill命令来杀掉该进程。</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">kill -9 进程号 ： 彻底杀死某个进程</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">11、tar </font></div><div><font style="font-size: 14pt;">对文件进行打包，默认情况并不会压缩，如果指定了相应的参数，它还会调用相应的压缩程序（如gzip和bzip等）进行压缩和解压。 </font></div><div><font style="font-size: 14pt;">语法：tar [主选项+辅选项] 文件或者目录 </font></div><div><font style="font-size: 14pt;">使用该命令时，主选项是必须要有的，它告诉tar要做什么事情，辅选项是辅助使用的，可以选用。 </font></div><div><font style="font-size: 14pt;">　　　主选项：c 创建新的档案文件。如果用户想备份一个目录或是一些文件，就要选择这个选项。相当于打包。 </font></div><div><font style="font-size: 14pt;">x 从档案文件中释放文件。相当于拆包。 </font></div><div><font style="font-size: 14pt;">t 列出档案文件的内容，查看已经备份了哪些文件。 </font></div><div><font style="font-size: 14pt;">**在参数的下达中， c/x/t 仅能存在一个！不可同时存在！因为不可能同时压缩与解压缩。 </font></div><div><font style="font-size: 14pt;">　辅助选项：-z ：是否同时具有 gzip 的属性？亦即是否需要用 gzip 压缩或解压？ 一般格式为xx.tar.gz或xx. tgz </font></div><div><font style="font-size: 14pt;">-j ：是否同时具有 bzip2 的属性？亦即是否需要用 bzip2 压缩或解压？</font></div><div><font style="font-size: 14pt;">一般格式为xx.tar.bz2 </font></div><div><font style="font-size: 14pt;">-z ; 是否同时具有gzip属性</font></div><div><font style="font-size: 14pt;">-v ：压缩的过程中显示文件！这个常用 </font></div><div><font style="font-size: 14pt;">-f ：使用档名，请留意，在 f 之后要立即接档名喔！不要再加其他参数！ </font></div><div><font style="font-size: 14pt;">-p ：使用原文件的原来属性（属性不会依据使用者而变） </font></div><div><font style="font-size: 14pt;">–exclude FILE：在压缩的过程中，不要将 FILE 打包！</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">压缩：tar -jcv -f filename.tar.bz2 filename</font></div><div><font style="font-size: 14pt;">查询：tar -jtv -f filename.tar.bz2  </font></div><div><font style="font-size: 14pt;">解压：tar -jxv -f filename.tar.bz2 (解压成目录为filename的目录)</font></div><div><font style="font-size: 14pt;">注：文件名并不定要以后缀tar.bz2结尾，这里主要是为了说明使用的压缩程序为bzip2</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">12、chmod </font></div><div><font style="font-size: 14pt;">改变文件的权限 </font></div><div><font style="font-size: 14pt;">语法：chmod [options] mode files </font></div><div><font style="font-size: 14pt;">options：-R 可递归遍历子目录，把修改应到目录下所有文件和子目录 </font></div><div><font style="font-size: 14pt;">who：u 用户 、 g 组 、o 其他 、a 所有用户 </font></div><div><font style="font-size: 14pt;">opcode：+ 增加权限 、 - 删除权限 、= 重新分配权限 </font></div><div><font style="font-size: 14pt;">permission： r 读 、w 写 、 x 执行</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">我们多数用三位八进制数字的形式来表示权限，第一位指定属主的权限，第二位指定组权限，第三位指定其他用户的权限，每位通过4(读)、2(写)、1(执行)三种数值的和来确定权限。如6(4+2)代表有读写权，7(4+2+1)有读、写和执行的权限</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> chmod u+x file ：给file的属主增加执行权限</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> chmod 751 file ：给file的属主分配读、写、执行(7)的权限，给file的所在组分配读、执行(5)的权限，给其他用户分配执行(1)的权限</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> chmod u=rwx,g=rx,o=x file ：上例的另一种形式</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"> </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">13、tail </font></div><div><font style="font-size: 14pt;">查阅正在改变的日志文件 </font></div><div><font style="font-size: 14pt;">语法：tail[必要参数][选择参数][文件] </font></div><div><font style="font-size: 14pt;">-f 循环读取 </font></div><div><font style="font-size: 14pt;">-n&lt;行数&gt; 显示行数</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">tail -f 20160921.logs ：查看正在改变的日志文件；</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">tail -3000 catalina.out：查看倒数前3000行的数据；</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">tail -3000 catalina.out | grep 'AA'：查看倒数前3000行包含字母'AA'的数据；</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">ctrl+z 可退出 </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">14、查看进程pid </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">lsof -i:8080：根据端口查看进程pid:</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-weight: bold;"><font style="font-size: 18pt;">linux服务相关的命令</font></span></div><div><font style="font-size: 14pt;">    centos系统6和7服务相关命令有所不同</font></div><div><font style="font-size: 14pt;">    centos6服务使用; service 服务名 参数</font></div><div><font style="font-size: 14pt;">    参数：start 启动</font></div><div><font style="font-size: 14pt;">          stop关闭</font></div><div><font style="font-size: 14pt;">          restart 关闭后启动</font></div><div><font style="font-size: 14pt;">          reload 不关闭重新启动</font></div><div><font style="font-size: 14pt;">          status 状态</font></div><div><font style="font-size: 14pt;">    例：防火墙</font></div><div><font style="font-size: 14pt;">    service firewalld status查询防火墙状态</font></div><div><font style="font-size: 14pt;">    服务自启动；</font></div><div><font style="font-size: 14pt;">    chkconfig --list | grep firewalld 查询防火墙是不是自启动</font></div><div><font style="font-size: 14pt;">    chkconfig --level 3 服务名&lt;firewalld&gt; on/off 将防火墙自启动打开或关闭</font></div><div><font style="font-size: 14pt;">    3代表的是系统运行级别</font></div><div><font style="font-size: 14pt;">    0关机 1root登录没网 2多用户登录没网 3多用户登录，可以远程登录</font></div><div><font style="font-size: 14pt;">    4保留 5和3一样多加了图形化界面 6关机重启</font></div><div><font style="font-size: 14pt;">    </font></div><div><font style="font-size: 14pt;">    #若设置mysql启动 需将mysql服务添加进去</font></div><div><font style="font-size: 14pt;">        1）将服务文件拷贝到init.d下，并重命名为mysql</font></div><div><font style="font-size: 14pt;">        cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql</font></div><div><font style="font-size: 14pt;">        chmod +x /etc/init.d/mysql赋予权限</font></div><div><font style="font-size: 14pt;">        chkconfig --add mysql 添加服务</font></div><div><font style="font-size: 14pt;">        reboot 重启机器</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">    </font></div><div><font style="font-size: 14pt;">    centos7的服务相关命令</font></div><div><font style="font-size: 14pt;">    systemctl list -unit-files 查看服务</font></div><div><font style="font-size: 14pt;">    systemctl 参数 服务名</font></div><div><font style="font-size: 14pt;">    参数：start stop restart reload status</font></div><div><font style="font-size: 14pt;">    设置自启动：systemctl enable 服务名</font></div><div><font style="font-size: 14pt;">    不自启动 ； systemctl disable 服务名</font></div><div><font style="font-size: 14pt;">    </font></div><div><font style="font-size: 14pt;">    创建用于启动MySQL的配置文件</font></div><div><font style="font-size: 14pt;">    # touch /usr/lib/systemd/system/mysqld.service 创建文件</font></div><div><font style="font-size: 14pt;">    # cd /usr/lib/systemd/system 编辑文件</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">    </font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">面试官常问的十个linux问题</font></div><div><font style="font-size: 14pt;">1. 如何暂停一个正在运行的进程，把其放在后台（不运行）？</font></div><div><font style="font-size: 14pt;">答案：为了停止正在运行的进程，让其在后台运行，我们可以使用组合键 Ctrl+Z。</font></div><div><font style="font-size: 14pt;">拓展：ctrl+c 终止 +d 退出相当于exit</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">2. 什么是安装Linux所需的最小分区数量，以及如何查看系统启动信息？</font></div><div><font style="font-size: 14pt;">答案：单独一个/root分区足以执行所有的系统任务，但是强烈建议安装Linux时，需要至少三个分区：/root,/boot,/swap。一个IDE硬盘驱动器支持高达63个分区，SCSI硬盘驱动器支持超过15个分区。</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">为了检查启动信息，我们可以使用cat或者dmesg命令，如下所示：</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">#cat /var/log/messages</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">或者</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">#dmesg</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">3. 在你的Linux机器上跟踪系统事件的守护进程名是什么？</font></div><div><font style="font-size: 14pt;">答案：’syslogd’，它负责跟踪系统信息，并将跟踪日志存储在特定的日志文件里。</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">4. 在/root分区运行’fsck’命令的最低要求是什么？</font></div><div><font style="font-size: 14pt;">答案：/root分区必须挂载为只读模式，而不是读写模式</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">5. 如何分层复制/home目录到另一个目录？</font></div><div><font style="font-size: 14pt;">答案：Linux的’cpio’命令起到了效果。’cpio’可以分层地复制文件和目录层次结构到另一个位置。</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">6. 在Linux中，怎样实现日志文件的自动替换？</font></div><div><font style="font-size: 14pt;">答案：’logrotate’提供日志自动替换功能。</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">7. 怎样知道Linux中是谁在安排工作？</font></div><div><font style="font-size: 14pt;">答案：使用’at’命令加上’-l’选项，就可以查出。</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">8. 如何在不解压tar包的前提下，查看包里的内容？</font></div><div><font style="font-size: 14pt;">答案：使用’tar -tvf’。选项‘t’(显示内容)，‘v’（详细报告tar处理的文件信息），‘f’（使用档案文件或者设备）</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">9. 什么是页面错误，它是怎么发生的？</font></div><div><font style="font-size: 14pt;">答案：当一个程序请求内存中不存在的数据时，就会产生页面错误，导致的结果就是程序停止。</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">10. 什么是在程序中返回代码？</font></div><div><font style="font-size: 14pt;">答案：返回代码是shell的特性。返回代码显示了程序的状态，一个成功的程序执行后返回‘0’，&amp;&amp;可以用来决定那个应用程序先执行。</font></div><div><font style="font-size: 14pt;">---------------------</font></div><div><font style="font-size: 14pt;">本文内容绝大多数来自博客</font></div><div><font style="font-size: 14pt;">作者：zlx312</font></div><div><font style="font-size: 14pt;">来源：CSDN</font></div><div><font style="font-size: 14pt;">原文：<a href="https://blog.csdn.net/zlx312/article/details/79398557">https://blog.csdn.net/zlx312/article/details/79398557</a></font></div><div><font style="font-size: 14pt;">版权声明：本文为博主原创文章，转载请附上博文链接！</font></div><div><br/></div></span>
</div></body></html> 